# =============================================================================
# Orchideo - Environment Variables Template
# =============================================================================
# Copy this file to .env.production for production deployment
# Copy this file to .env.vps for VPS development deployment

# =============================================================================
# Node.js Environment
# =============================================================================
# development | production
NODE_ENV=production
NEXT_PUBLIC_ENV=production

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# For local Docker: postgresql://orchideo:PASSWORD@postgres:5432/orchideo
# For managed DB: postgresql://user:password@host:port/database
DATABASE_URL="postgresql://orchideo:CHANGE_ME@postgres:5432/orchideo"

# Docker Compose only (leave empty if using DATABASE_URL)
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_USER=orchideo
POSTGRES_DB=orchideo

# =============================================================================
# Auth.js (NextAuth v5)
# =============================================================================
# Your application URL (must match Facebook OAuth config)
NEXTAUTH_URL="https://orchideo.ppsys.eu"

# Generate: openssl rand -base64 32
# IMPORTANT: Use different secret for dev and production!
NEXTAUTH_SECRET="CHANGE_ME"

# =============================================================================
# Facebook OAuth - Facebook Login for Business
# =============================================================================
# Get from: https://developers.facebook.com/apps/
FACEBOOK_APP_ID="1605455470467424"
FACEBOOK_APP_SECRET="CHANGE_ME"
FACEBOOK_CONFIG_ID="655031237668794"

# =============================================================================
# Email (Postmark)
# =============================================================================
# Get from: https://account.postmarkapp.com/servers/
POSTMARK_API_TOKEN="CHANGE_ME"
POSTMARK_FROM_EMAIL="noreply@invix.cz"

# =============================================================================
# App Configuration
# =============================================================================
# Public URL for emails, links, etc.
NEXT_PUBLIC_APP_URL="https://orchideo.ppsys.eu"

# Report expiration in days (default: 30)
REPORT_EXPIRATION_DAYS=30

# =============================================================================
# Security (Encryption for Facebook tokens)
# =============================================================================
# Generate: openssl rand -base64 32
# CRITICAL: Never change this after first deployment!
# Changing this will invalidate all encrypted Facebook tokens in database.
ENCRYPTION_KEY="CHANGE_ME"

# =============================================================================
# Analysis Configuration
# =============================================================================
# Maximum number of posts to fetch from Facebook feed
MAX_FEED_POSTS=300

# Maximum number of pages to paginate through
MAX_FEED_PAGES=5

# Timeout for Facebook feed API requests (milliseconds)
FEED_TIMEOUT_MS=10000

# Timeout for analysis operations (milliseconds)
ANALYSIS_TIMEOUT_MS=60000

# =============================================================================
# Logging
# =============================================================================
# Log level: trace | debug | info | warn | error | fatal
# Production: info or warn
# Development: debug
LOG_LEVEL=info

# Debug Features (development only)
# Show debug cards with calculation formulas in trigger detail UI
SHOW_DEBUG_FORMULAS=false

# =============================================================================
# Storage (Phase 2 - PDF Export)
# =============================================================================
# Storage type: local | r2
STORAGE_TYPE=local

# Local storage path (for development)
STORAGE_LOCAL_PATH=./storage

# Cloudflare R2 (for production)
# R2_ACCOUNT_ID=
# R2_ENDPOINT=https://<account>.r2.cloudflarestorage.com
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET_NAME=orchideo-pdfs-prod
# R2_PUBLIC_URL=https://cdn.orchideo.ppsys.eu

# =============================================================================
# Optional: Monitoring & Analytics
# =============================================================================
# Sentry DSN for error tracking
# SENTRY_DSN=

# =============================================================================
# Optional: Google OAuth (if implementing Google login)
# =============================================================================
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
